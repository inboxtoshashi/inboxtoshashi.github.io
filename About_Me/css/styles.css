/* Universal mobile responsiveness for all UI elements */
@media (max-width: 720px) {
    html, body {
        width: 100vw !important;
        min-width: 100vw !important;
        max-width: 100vw !important;
        height: 100vh !important;
        min-height: 100vh !important;
        max-height: 100vh !important;
        overflow-x: hidden !important;
        overflow-y: auto !important;
        font-size: 15px;
    }
    .desktop {
        width: 100vw !important;
        min-width: 100vw !important;
        max-width: 100vw !important;
        height: 100vh !important;
        min-height: 100vh !important;
        max-height: 100vh !important;
        overflow: hidden !important;
        position: relative !important;
        padding-bottom: 80px !important; /* for launcher */
    }
    .window {
        width: 100vw !important;
        min-width: 100vw !important;
        max-width: 100vw !important;
        left: 0 !important;
        margin: 0 !important;
        border-radius: 0 !important;
        top: 48px !important;
        height: calc(100vh - 48px - 80px) !important;
        min-height: 320px !important;
        max-height: calc(100vh - 48px - 80px) !important;
        box-shadow: none !important;
        /* Removed z-index: 100 !important to allow dynamic stacking */
    }
    .window-titlebar {
        min-height: 44px !important;
        font-size: 16px !important;
        border-radius: 0 !important;
    }
    .window-content-wrapper, .window-content {
        min-width: 0 !important;
        min-height: 0 !important;
        padding: 0 2vw !important;
        font-size: 15px !important;
        overflow-y: auto !important;
        box-sizing: border-box !important;
    }
    .menu-bar {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 100vw !important;
        min-width: 100vw !important;
        max-width: 100vw !important;
        z-index: 2000 !important;
        font-size: 15px !important;
        border-radius: 0 !important;
    }
    .desktop-shortcut {
        top: unset !important;
        bottom: 90px !important;
        right: 12px !important;
        width: 80px !important;
        z-index: 120 !important;
    }
    /* Hide fullscreen button on mobile */
    .icon-fullscreen {
        display: none !important;
    }
    /* Mobile launcher removed - dock icons are visible instead */
    .safari-links {
        flex-direction: row !important;
        gap: 18px !important;
        justify-content: center !important;
        margin-bottom: 12px !important;
    }
    .safari-link-icon {
        width: 38px !important;
        height: 38px !important;
    }
    .lock-center, .lock-avatar, .lock-time {
        font-size: 18px !important;
        padding: 0 8px !important;
    }
    .lock-center {
        justify-content: center !important;
        gap: 40px !important;
        padding: 20px 16px !important;
    }
    .lock-top {
        margin-top: 0 !important;
    }
    .lock-bottom {
        margin-bottom: 0 !important;
    }
    .lock-date {
        font-size: 16px !important;
        margin-bottom: 8px !important;
    }
    .lock-avatar {
        width: 56px !important;
        height: 56px !important;
    }
    .lock-time {
        font-size: 72px !important;
        margin-bottom: 0 !important;
    }
    .lock-name {
        font-size: 13px !important;
        margin-top: 8px !important;
    }
    .visitor-widget, .vw-root {
        font-size: 15px !important;
        padding: 8px 0 !important;
        min-width: 0 !important;
        max-width: 100vw !important;
    }
    .wallpaper-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 10px !important;
        padding: 0 2vw !important;
    }
    .wallpaper-item {
        min-width: 0 !important;
        max-width: 100vw !important;
        font-size: 14px !important;
    }
    .wallpaper-preview {
        min-width: 0 !important;
        min-height: 60px !important;
        max-width: 100vw !important;
        border-radius: 8px !important;
    }
    .contact-form input, .contact-form textarea {
        font-size: 15px !important;
        padding: 8px !important;
        width: 100% !important;
        box-sizing: border-box !important;
    }
    .contact-links, .social-links {
        flex-direction: row !important;
        flex-wrap: wrap !important;
        gap: 10px !important;
        justify-content: center !important;
        font-size: 15px !important;
    }
    .window-controls, .window-btn {
        min-width: 0 !important;
        min-height: 0 !important;
        width: 22px !important;
        height: 22px !important;
    }
    .window-btn {
        margin: 0 2px !important;
    }
    /* Hide non-essential desktop elements on mobile */
    .desktop-context-menu, .airdrop-root, .airdrop-footer, .vscode-sidebar {
        display: none !important;
    }
}
/* Responsive video wallpaper: ensure it always covers and stays fixed on mobile */
@media (max-width: 720px) {
    #desktop-video-wallpaper {
        position: fixed !important;
        left: 0 !important;
        top: 0 !important;
        width: 100vw !important;
        height: 100vh !important;
        min-width: 100vw !important;
        min-height: 100vh !important;
        max-width: 100vw !important;
        max-height: 100vh !important;
        object-fit: cover !important;
        z-index: 0 !important;
        pointer-events: none;
    }
    .desktop {
        min-height: 100vh;
        min-width: 100vw;
        overflow: hidden;
        position: relative;
    }
}
/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* AirDrop styles */
.airdrop-root {
    /* footer sizing used to reserve space so content never overlaps */
    --airdrop-footer-height: 48px;
    /* small upward nudge for the centered message (negative percent or px) */
    --airdrop-center-nudge: -50px;
    display: flex;
    flex-direction: column;
    height: 100%;
    min-height: 0;
    flex: 1 1 auto;
    position: relative;
    padding-bottom: var(--airdrop-footer-height);
}
/* make the root use border-box so negative margins behave predictably */
.airdrop-root { box-sizing: border-box; }
.airdrop-top {
    display: flex;
    align-items: center;
    gap: 14px;
    /* reduced padding by ~20% to shrink the top area */
    padding: 19px 22px;
    border-bottom: 1px solid rgba(255,255,255,0.03);
}
.airdrop-avatar {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    background: linear-gradient(135deg,#7a6ef6 0%, #9a6ef6 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
}
.airdrop-info {
    display: flex;
    flex-direction: column;
}
.airdrop-appear-label { font-size: 11px; color: #bdbdbd; }
.airdrop-name { font-size: 18px; font-weight: 700; color: #ffffff; text-transform: none; }
.airdrop-center {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    text-align: center;
    padding: 20px 24px 12px;
    box-sizing: border-box;
    overflow: auto;
    position: relative; /* combined common rules */
}

/* Reduce center fonts by ~30% and keep centered */
.airdrop-no-people { font-size: 17px; font-weight: 700; margin-bottom: 6px; }
.airdrop-subtitle { color: #9a9a9a; font-size: 11px; white-space: nowrap; overflow: visible; text-overflow: clip; max-width: none; margin: 0 auto; }

/* use a small translate on the text elements so they sit slightly above
   the exact vertical center but still participate in normal flow */
.airdrop-center { position: relative; }
.airdrop-center-inner {
    position: relative;
    left: 0;
    transform: none;
    text-align: center;
}

/* Nudge the central messages slightly upwards so they sit a bit higher visually */
.airdrop-center .airdrop-no-people,
.airdrop-center .airdrop-subtitle {
    /* stronger selector + !important to prevent other rules from overriding */
    transform: translateY(var(--airdrop-center-nudge)) !important;
}

/* Indent center texts and keep centered */
.airdrop-no-people,
.airdrop-subtitle {
    display: block;
    margin: 0 auto;
    max-width: 90%;
    text-align: center;
    word-break: normal;
}
.airdrop-footer {
    display: block;
    width: 100%;
    position: absolute;
    left: 0;
    bottom: 0;
    height: var(--airdrop-footer-height);
    padding: 12px 22px;
    box-sizing: border-box;
    border-top: 1px solid rgba(255,255,255,0.03);
    background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
    z-index: 2;
}
.airdrop-footer a { color: #53a6ff; text-decoration: none; }

/* Prevent footer lines from wrapping and keep the triangle on the same line */
.airdrop-footer-line1,
.airdrop-footer-line2 {
    /* responsive wrapping while keeping footer compact */
    color: #bdbdbd;
    font-size: 12px;
    line-height: 1.20;
    margin: 2px 0.5;
    white-space: normal;
    overflow: visible;
    text-overflow: clip;
    width: auto;
    max-width: 100%;
    word-wrap: break-word;
}
.airdrop-footer-line2 a { white-space: nowrap; display: inline-block; }


body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    overflow: hidden;
    height: 100vh;
    width: 100vw;
}

/* Desktop */
.desktop {
    width: 100%;
    height: 100vh;
    background: url('images/wallpapers/macos-ventura.jpg') center center/cover no-repeat, linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    /* background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); */
    position: relative;
    overflow: hidden;
}

/* Desktop shortcut in top-right corner */
.desktop-shortcut {
    position: absolute;
    /* place shortcut below the menu bar (menu bar height ~34px) */
    top: calc(34px + 12px);
    right: 18px;
    width: 96px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    color: #e6e6e6;
    cursor: default;
    user-select: none;
    z-index: 50; /* keep below app windows (which use z-index >= 100) */
    pointer-events: auto;
}

/* Desktop context menu */
.desktop-context-menu {
    position: fixed;
    min-width: 220px;
    background: rgba(30,30,30,0.98);
    color: #fff;
    border-radius: 10px;
    padding: 8px 6px;
    box-shadow: 0 12px 40px rgba(0,0,0,0.6);
    z-index: 99999;
    font-size: 15px;
    user-select: none;
}
.desktop-context-menu .ctx-item {
    padding: 10px 14px;
    cursor: pointer;
    border-radius: 6px;
}
.desktop-context-menu .ctx-item:hover {
    background: rgba(255,255,255,0.03);
}
.desktop-context-menu .ctx-sep {
    height: 1px;
    background: rgba(255,255,255,0.04);
    margin: 6px 4px;
    border-radius: 1px;
}
.desktop-context-menu .ctx-sub {
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.desktop-shortcut-icon {
    width: 64px;
    height: 64px;
    border-radius: 8px;
    background: rgba(255,255,255,0.02);
    display: flex;
    align-items: center;
    justify-content: center;
}
.desktop-shortcut-icon img { width: 46px; height: 46px; object-fit: contain; }
.desktop-shortcut-label {
    font-size: 12px;
    text-align: center;
    /* match icon width and allow wrapping so long names are visible */
    max-width: 96px;
    white-space: normal;
    overflow: visible;
    text-overflow: clip;
    line-height: 1.15;
    word-break: break-word;
}

/* About styles moved to about.css */

/* Profile avatar and contact styles */
.profile-avatar {
    width: 72px;
    height: 72px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    background: radial-gradient(circle at 30% 30%, #7a6ef6 0%, #9a6ef6 70%);
    box-shadow: 0 6px 18px rgba(0,0,0,0.5);
}
.profile-info .profile-title {
    color: var(--muted,#bdbdbd);
    margin-top: 6px;
}

/* Add a little blank space after the main name heading */
.profile-info h1 {
    margin-bottom: 18px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.profile-contact {
    margin-top: 8px;
    color: var(--muted,#bdbdbd);
}
.contact-email {
    display: block;
}
.contact-phone {
    display: block;
    margin-top: 6px;
}

/* macOS Menu Bar */
.menu-bar {
    height: 34px;
    background: rgba(40, 40, 40, 0.85);
    backdrop-filter: blur(30px);
    -webkit-backdrop-filter: blur(30px);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 12px;
    color: rgba(255, 255, 255, 0.95);
    font-size: 13.5px;
    position: relative;
    z-index: 2000 !important;
    pointer-events: auto !important;
    font-weight: 500;
    border-bottom: 0.5px solid rgba(0, 0, 0, 0.3);
}

.menu-bar-left {
    display: flex;
    gap: 18px;
    align-items: center;
}

.apple-logo {
    font-size: 18px;
    cursor: pointer;
    padding: 0 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    transition: background 0.15s ease;
    height: 25px;
}

.apple-logo:hover {
    background: rgba(255, 255, 255, 0.15);
}

.apple-logo svg {
    width: 18px;
    height: 18px;
    fill: white;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
}

.menu-item {
    cursor: pointer;
    padding: 0 10px;
    height: 25px;
    line-height: 25px;
    border-radius: 4px;
    transition: background 0.15s ease;
}

.menu-item:hover {
    background: rgba(255, 255, 255, 0.15);
}

.menu-item.active {
    font-weight: 600;
}

.menu-bar-right {
    display: flex;
    gap: 14px;
    align-items: center;
}

.menu-icon {
    cursor: pointer;
    width: 22px;
    height: 22px;
    border-radius: 4px;
    transition: background 0.15s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    pointer-events: auto !important;
}

.menu-icon:hover {
    background: rgba(255, 255, 255, 0.15);
}

.menu-icon svg {
    width: 16px;
    height: 16px;
    fill: rgba(255, 255, 255, 0.85);
    stroke: rgba(255, 255, 255, 0.85);
}

.icon-fullscreen svg {
    width: 17px;
    height: 17px;
    transition: all 0.2s ease;
}

.icon-fullscreen:hover svg {
    fill: rgba(255, 255, 255, 1);
}

.icon-siri {
    background: none;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.datetime {
    font-size: 13px;
    font-weight: 500;
    padding: 0 8px;
    cursor: pointer;
}

.datetime:hover {
    background: rgba(255, 255, 255, 0.15);
    border-radius: 4px;
}

.system-icon {
    cursor: pointer;
    padding: 2px 4px;
    border-radius: 4px;
    transition: background 0.15s;
    font-size: 14px;
}

.system-icon:hover {
    background: rgba(255, 255, 255, 0.15);
}

/* Windows Container */
.windows-container {
    position: absolute;
    top: 25px;
    left: 0;
    right: 0;
    bottom: 80px;
    z-index: 100;
}

/* Lock-screen mode: hide UI chrome and show only the centered lock overlay */
body.locked {
    overflow: hidden;
}

/* Hide UI chrome when locked but keep desktop/wallpaper visible */
body.locked .menu-bar,
body.locked .dock,
body.locked .desktop-shortcut,
body.locked .windows-container,
body.locked .desktop-context-menu,
body.locked .wifi-dropdown,
body.locked .control-center,
body.locked .mobile-launcher {
    display: none !important;
    visibility: hidden !important;
    pointer-events: none !important;
}

/* Ensure dock is completely hidden on mobile when lock screen is active */
@media (max-width: 720px) {
    /* Aggressively hide dock and related elements when locked */
    body.locked .dock,
    body.locked .dock-app,
    body.locked .dock-trash,
    body.locked .dock-separator {
        display: none !important;
        visibility: hidden !important;
        pointer-events: none !important;
        height: 0 !important;
        width: 0 !important;
        margin: 0 !important;
        padding: 0 !important;
        position: absolute !important;
        left: -9999px !important;
        opacity: 0 !important;
    }
    
    /* Ensure lock screen covers everything */
    body.locked #lockScreen,
    body.locked .lock-screen {
        inset: 0 !important;
        overflow: hidden !important;
    }
}

/* Quick UI chrome fade used while locking/unlocking to avoid instant jumps */
body.locking .menu-bar,
body.locking .dock,
body.locking .desktop-shortcut,
body.locking .windows-container,
body.locking .desktop-context-menu,
body.locking .wifi-dropdown,
body.locking .control-center {
    opacity: 0;
    transition: opacity 120ms linear;
    pointer-events: none;
}
body.locking .menu-bar { -webkit-backdrop-filter: none !important; backdrop-filter: none !important; }

/* Unlocking: fade UI chrome back in while overlay fades out */
body.unlocking .menu-bar,
body.unlocking .dock,
body.unlocking .desktop-shortcut,
body.unlocking .windows-container,
body.unlocking .desktop-context-menu,
body.unlocking .wifi-dropdown,
body.unlocking .control-center {
    opacity: 1;
    transition: opacity 220ms ease;
    pointer-events: auto;
}
body.unlocking .menu-bar { -webkit-backdrop-filter: blur(30px) !important; backdrop-filter: blur(30px) !important; }

/* Lock screen overlay — use opacity/visibility transitions */
#lockScreen, .lock-screen {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,0.5);
    z-index: 99999;
    /* start hidden, transition via opacity/visibility */
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    overflow: hidden !important;
    /* only animate opacity for smooth, reliable fades */
    transform: none;
    transition: opacity 220ms ease;
    will-change: opacity, transform; /* Added for performance */
    backface-visibility: hidden; /* Added for performance */
}
/* visible state */
#lockScreen.show, .lock-screen.show {
    opacity: 1 !important;
    visibility: visible !important;
    pointer-events: auto !important;
    display: flex !important;
}

/* Make lock elements use GPU compositing to smooth animations */
.lock-center, .lock-time, .lock-avatar {
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    will-change: opacity, transform;
}

/* Show avatar and name when lock screen is active */
.lock-screen.show .lock-avatar,
#lockScreen.show .lock-avatar {
    opacity: 1;
    visibility: visible;
    transform: scale(1);
}

.lock-screen.show .lock-name,
#lockScreen.show .lock-name {
    opacity: 1;
    visibility: visible;
}

/* Slightly reduce heavy text-shadow for better performance during transitions */
.lock-time { text-shadow: 0 8px 24px rgba(0,0,0,0.45); }

#lockScreen .lock-center {
    outline: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 18px;
    color: #ffffff;
}

#lockScreen .lock-top .lock-time {
    font-size: 120px;
    font-weight: 700;
    line-height: 0.9;
    text-shadow: 0 12px 40px rgba(0,0,0,0.65);
}

#lockScreen .lock-top .lock-date {
    font-size: 18px;
    opacity: 0.95;
}

#lockScreen .lock-bottom .lock-avatar img {
    width: 96px;
    height: 96px;
    border-radius: 50%;
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
}

#lockScreen .lock-name {
    margin-top: 8px;
    font-weight: 700;
}

/* Lock screen overlay */
.lock-screen {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.5);
    /* allow wallpaper to show through with a subtle dim */
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 99999;
}
.lock-screen[aria-hidden="true"] { display: none; }
.lock-center {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    color: #f6ecd9;
    text-align: center;
    padding: 48px 16px;
    width: 100%;
    height: 100vh;
    box-sizing: border-box;
    overflow: hidden;
}
.lock-top { margin-top: 16px; }
.lock-bottom { margin-bottom: 32px; display:flex; flex-direction:column; align-items:center; gap:8px; }
.lock-date {
    font-size: 18px;
    color: rgba(246,236,217,0.9);
    letter-spacing: 0.6px;
    margin-bottom: 6px;
}
.lock-time {
    font-size: 140px;
    font-weight: 800;
    line-height: 0.85;
    color: rgba(246,236,217,0.95);
    text-shadow: 0 12px 40px rgba(0,0,0,0.55);
}
.lock-avatar {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: #ffffff;
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* start hidden, will fade via opacity */
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transform: scale(1.02);
    transition: opacity 220ms ease, transform 220ms ease, visibility 0s linear 220ms;
    font-size: 30px;
    box-shadow: 0 6px 30px rgba(0,0,0,0.6);
    border: none;
}
.lock-avatar .lock-icon {
    width: 36px;
    height: 36px;
}
.lock-avatar img { width:100%; height:100%; border-radius:50%; object-fit:cover; display:block; }
.lock-name {
    font-size: 14px;
    font-weight: 700;
    color: rgba(255,255,255,0.95);
    opacity: 0;
    visibility: hidden;
    transition: opacity 220ms ease, visibility 0s linear 220ms;
}

/* When a lock overlay is active, prevent body scrolling or interactions behind it */
body.locked { overflow: hidden; }


/* Window Styles */
.window {
    position: absolute;
    background: #2d2d2d;
    border-radius: 8px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
    overflow: hidden;
    min-width: 400px;
    min-height: 300px;
    display: flex;
    flex-direction: column;
    transition: transform 0.2s;
}

.window.maximized {
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: calc(100vh - 102px) !important;
    border-radius: 0;
}

.window.minimized {
    /* Remove minimized windows from rendering/stacking to avoid overlapping other UI */
    display: none !important;
    pointer-events: none;
    visibility: hidden;
}

.window-titlebar {
    height: 38px;
    background: rgba(46, 46, 46, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 12px;
    cursor: move;

.window-app-icon {
    width: 18px;
    height: 18px;
    object-fit: contain;
    margin-right: 8px;
    display: inline-block;
    vertical-align: middle;
}
    user-select: none;
    border-bottom: 1px solid rgba(0, 0, 0, 0.3);
}

.window-title {
    color: #e0e0e0;
    font-size: 13px;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 8px;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    pointer-events: none;
}

.window-controls {
    display: flex;
    gap: 6px;
    z-index: 10;
    position: relative;
}

.window-btn {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 8px;
    font-weight: bold;
    transition: all 0.2s;
    position: relative;
    color: transparent;
    z-index: 100;
    pointer-events: auto;
}

.window-btn::before {
    content: '';
    position: absolute;
    transition: opacity 0.2s;
    opacity: 0;
}

.window-titlebar:hover .window-btn::before {
    opacity: 1;
}

.window-btn:hover {
    filter: brightness(0.85);
}

.window-btn.close {
    background: #ff5f56;
}

.window-btn.close::before {
    content: '×';
    color: #4d0000;
    font-size: 12px;
    line-height: 1;
}

.window-btn.minimize {
    background: #ffbd2e;
}

.window-btn.minimize::before {
    content: '−';
    color: #4d3000;
    font-size: 12px;
    line-height: 1;
}

.window-btn.maximize {
    background: #27c93f;
}

.window-btn.maximize::before {
    content: '↗';
    color: #004d00;
    font-size: 8px;
    line-height: 1;
}

.window-content-wrapper {
    flex: 1 1 100%;
    overflow: auto;
    position: relative;
    z-index: 1;
    pointer-events: auto;
}

.window-content {
    flex: 1 1 100%;
    overflow: auto;
    background: #1e1e1e;
    color: #e0e0e0;
    user-select: text;
    -webkit-user-select: text;
    -moz-user-select: text;
    width: 100%;
    min-width: 100%;
    box-sizing: border-box;
}

.window-content-wrapper {
  flex: 1 1 100%;
  width: 100%;
  min-height: 0;
  min-width: 0;
  background: #1e1e1e;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  overflow: auto;
}

/* macOS Dock */
.dock {
    position: absolute;
    bottom: 4px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(30px);
    -webkit-backdrop-filter: blur(30px);
    padding: 4px;
    border-radius: 18px;
    display: flex;
    gap: 2px;
    align-items: center;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
    z-index: 5;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: z-index 0.3s ease;
}

.dock:hover {
    z-index: 950;
}

.dock-app, .dock-trash {
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border-radius: 16px;
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    position: relative;
    background: rgba(255, 255, 255, 0.1);
}

.dock-app:hover, .dock-trash:hover {
    transform: translateY(-12px) scale(1.15);
}

.dock-app.active::after {
    content: '';
    position: absolute;
    bottom: -8px;
    width: 6px;
    height: 6px;
    background: rgba(255, 255, 255, 0.8);
}
/* Small restore overlay shown when hovering a dock icon for a minimized window */
.dock-restore {
    position: absolute;
    bottom: 78px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(30,30,30,0.95);
    color: #fff;
    padding: 6px 8px;
    border-radius: 8px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.45);
    z-index: 2000;
    font-size: 13px;
    white-space: nowrap;
}
.dock-restore-btn {
    background: transparent;
    border: 1px solid rgba(255,255,255,0.06);
    color: #e6e6e6;
    padding: 6px 10px;
    border-radius: 6px;
    cursor: pointer;
}

/* dock restore styles removed */


.app-icon {
    font-size: 38px;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

.dock-separator {
    width: 1px;
    height: 50px;
    background: rgba(255, 255, 255, 0.3);
    margin: 0 6px;
}

/* Dynamic dock apps container */
.dock-dynamic-apps {
    display: flex;
    gap: 2px;
    align-items: center;
}

/* Minimized app indicator in dock */
.dock-app-minimized {
    position: relative;
}

.dock-app-minimized::before {
    content: '';
    position: absolute;
    top: 2px;
    right: 2px;
    width: 8px;
    height: 8px;
    background: #ffbd2e;
    border-radius: 50%;
    border: 1px solid rgba(0, 0, 0, 0.3);
    z-index: 10;
}

/* System Info Modal */
.system-info-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 150000;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.system-info-modal.show {
    opacity: 1;
}

.system-info-content {
    background: rgba(40, 40, 44, 0.98);
    border-radius: 12px;
    width: 90%;
    max-width: 480px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transform: scale(0.9);
    transition: transform 0.3s ease;
}

.system-info-modal.show .system-info-content {
    transform: scale(1);
}

.system-info-header {
    padding: 24px 24px 20px;
    text-align: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.system-info-icon {
    font-size: 48px;
    margin-bottom: 12px;
}

.system-info-header h2 {
    font-size: 20px;
    font-weight: 600;
    color: #ffffff;
    margin: 0;
}

.system-info-body {
    padding: 20px 24px;
    max-height: 400px;
    overflow-y: auto;
}

.system-info-section {
    display: flex;
    justify-content: space-between;
    padding: 12px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.system-info-section:last-child {
    border-bottom: none;
}

.info-label {
    color: rgba(255, 255, 255, 0.6);
    font-size: 14px;
    font-weight: 500;
}

.info-value {
    color: #ffffff;
    font-size: 14px;
    text-align: right;
    max-width: 60%;
    word-break: break-word;
}

.system-info-footer {
    padding: 16px 24px;
    text-align: center;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.system-info-close {
    background: rgba(0, 122, 255, 0.9);
    color: white;
    border: none;
    padding: 10px 32px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease;
}

.system-info-close:hover {
    background: rgba(0, 122, 255, 1);
}

.system-info-close:active {
    transform: scale(0.98);
}

/* About Me Content */
.about-content {
    padding: 40px;
    max-width: 800px;
    margin: 0 auto;
}

.profile-section {
    text-align: center;
    margin-bottom: 40px;
}

.profile-avatar {
    font-size: 80px;
    width: 120px;
    height: 120px;
    margin: 0 auto 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
}

.profile-section h1 {
    font-size: 32px;
    margin-bottom: 8px;
    color: #ffffff;
}

.subtitle {
    font-size: 18px;
    color: #a0a0a0;
}

.info-section h2 {
    font-size: 20px;
    margin: 30px 0 15px;
    color: #ffffff;
    border-bottom: 2px solid #667eea;
    padding-bottom: 8px;
}

.info-section p {
    line-height: 1.6;
    color: #d0d0d0;
    margin-bottom: 15px;
}

.skills-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
}

.skill-tag {
    background: #3d3d3d;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 14px;
    color: #e0e0e0;
    border: 1px solid #667eea;
}

.experience-item {
    margin-bottom: 20px;
    padding: 15px;
    background: #3d3d3d;
    border-radius: 8px;
}

.experience-item h3 {
    color: #ffffff;
    margin-bottom: 5px;
}

.company {
    color: #a0a0a0;
    font-size: 14px;
    margin-bottom: 10px;
}


/* Files Content */
.files-content {
    display: flex;
    flex-direction: row;
    height: 100%;
    overflow: hidden;
}

/* For Finder windows: prevent the main window content from scrolling
   so the scroll UI appears only on the left sidebar */
.window-content.finder-style {
    overflow: hidden;
    height: 100%;
}

.files-main,
.finder-main {
    overflow: hidden;
}

.files-sidebar {
    width: 220px;
    min-width: 200px;
    background: rgba(255,255,255,0.02);
    border-right: 1px solid rgba(255,255,255,0.03);
    padding: 8px 8px;
    box-sizing: border-box;
    /* layout sections vertically and allow a single section to take remaining space */
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    overflow-x: hidden;
    gap: 2px;
    max-height: 100%;
    /* indent amount used to position icons after the first letter of section titles */
    --sidebar-first-letter-indent: 20px;
}

.files-sidebar-item:hover {
    background: #3d3d3d;
}

.files-sidebar-item.active {
    background: #667eea;
}

.file-icon {
    font-size: 18px;
}

.files-main {
    display: flex;
    flex-direction: column;
    overflow: hidden;
    flex: 1 1 auto;
}

.files-toolbar {
    padding: 8px;
    background: #252525;
    border-bottom: 1px solid #1a1a1a;
}

.files-path {
    font-size: 13px;
    color: #a0a0a0;
}

.files-path {
    font-size: 11px;
    font-weight: 400;
    text-align: center;
    margin: 0 16px;
    position: relative;
    transform: translateY(6px);
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
    color: #e6e6e6;
}

.finder-sidebar {
    flex: 1;
    width: 220px;
    min-width: 200px;
    background: rgba(255,255,255,0.02);
    border-right: 1px solid rgba(255,255,255,0.03);
    /* increase left inset by 5% to reduce icon overlap */
    padding: 12px 8px 12px calc(8px + 5%);
    box-sizing: border-box;
    overflow-y: auto;
    overflow-x: hidden;
}

/* Custom scrollbar for sidebar only (keeps visual slide effect restricted) */
.finder-sidebar {
    /* make entire sidebar scrollable (covers all sections) */
    overflow-y: auto;
    overflow-x: hidden;
}

/* Sidebar scrollbar styled like the black bar in the screenshot */
.finder-sidebar::-webkit-scrollbar {
    width: 12px;
}
.finder-sidebar::-webkit-scrollbar-track {
    background: transparent;
}
.finder-sidebar::-webkit-scrollbar-thumb {
    background: rgba(255,255,255,0.12);
    border-radius: 4px;
}

.sidebar-section {
    margin-bottom: 4px;
}

/* subtle divider between sidebar sections to match Finder */
.sidebar-section + .sidebar-section {
    border-top: 1px solid rgba(255,255,255,0.03);
    padding-top: 4px;
    margin-top: 4px;
}

.sidebar-section-title {
    font-size: 11px;
    color: #9a9a9a;
    /* keep original casing from HTML (allow iCloud to remain camel-cased) */
    text-transform: none;
    margin: 8px 6px;
    letter-spacing: 0.6px;
}

/* keep section titles as-is; move only the icons a small amount */
.sidebar-item {
    display: flex;
    align-items: center;
    gap: 10px;
    /* small left offset for icons (approx. one character space) */
    padding: 6px 8px 6px 6px;
    border-radius: 8px;
    color: #dcdcdc;
    cursor: pointer;
}

/* Reduce sidebar icon + text sizing by ~30% for a more compact appearance */
.sidebar-item {
    font-size: 14px;
}
.sidebar-icon img,
.sidebar-svg {
    width: 18px;
    height: 18px;
}

/* Collapsible section title chevron */
.sidebar-section {
    position: relative;
}
.sidebar-section-title {
    position: relative;
    cursor: pointer;
}
.sidebar-section-title::after {
    content: '\25BE'; /* small down chevron ▾ */
    position: absolute;
    right: 6px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 12px;
    color: #8e8e93;
    opacity: 0;
    transition: transform 0.12s ease, opacity 0.12s ease;
}
.sidebar-section:hover .sidebar-section-title::after {
    opacity: 1;
}
.sidebar-section.collapsed .sidebar-section-title::after {
    content: '\25B8'; /* right chevron ▸ */
    transform: translateY(-50%) rotate(0deg);
    opacity: 1;
}
.sidebar-section.collapsed .sidebar-item {
    display: none;
}

.sidebar-item .sidebar-icon {
    width: 20px;
    height: 20px;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    color: #9fa3a8;
}

.sidebar-svg {
    width: 18px;
    height: 18px;
    fill: currentColor;
    opacity: 0.95;
}

.sidebar-item:hover {
    background: rgba(255,255,255,0.03);
}

.files-sidebar-item.active,
.sidebar-item.active {
    background: rgba(255,255,255,0.06);
    color: #ffffff;
}

/* Make active icons slightly brighter */
.files-sidebar-item.active .sidebar-svg,
.sidebar-item.active .sidebar-svg {
    color: #ffffff;
    opacity: 1;
}

.tag-dot {
    width: 12px;
    height: 12px;
    border-radius: 999px;
    display: inline-block;
    margin-right: 6px;
}
.tag-red { background: #ff3b30; }
.tag-orange { background: #ff9500; }
.tag-yellow { background: #ffd60a; }
.tag-green { background: #34c759; }
.tag-blue { background: #0a84ff; }
.tag-purple { background: #af52de; }
.tag-grey { background: #8e8e93; }

.finder-main {
    flex: 1;
    display: flex;
    flex-direction: column;
    min-width: 0;
}

.finder-toolbar {
    height: 54px;
    padding: 8px 12px;
    display: grid;
    /* give left and right columns a stable min width and let center grow */
    grid-template-columns: minmax(140px, 260px) minmax(160px, 1fr) minmax(140px, 260px);
    align-items: center;
    gap: 12px;
    border-bottom: 1px solid rgba(255,255,255,0.03);
    background: rgba(255,255,255,0.01);
}

.files-path {
    /* reduced and non-bold per design request */
    font-size: 11px;
    font-weight: 400;
    color: #e6e6e6;
    justify-self: center;
    /* allow the center title to occupy available space and ellipsize when needed */
    max-width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    pointer-events: none;
    padding: 0 12px;
    z-index: 2;
    text-align: center;
    /* nudge the centered title slightly down so it sits one line lower visually */
    transform: translateY(6px);
}

/* Make sure the centered title doesn't overlap — it will ellipsize if space is tight */
.finder-toolbar .files-path { max-width: 100%; }

/* Responsive adjustments: slightly shrink fonts and reserved space on narrow windows */
@media (max-width: 900px) {
    .files-path { font-size: 14px; max-width: calc(100% - 160px); }
    .finder-left-label { font-size: 13px; }
}

/* Finder right controls: view buttons and search */
.finder-right-controls {
    margin-left: auto;
    display: flex;
    align-items: center;
    gap: 12px;
    justify-self: end;
    min-width: 120px;
    max-width: 240px;
}

/* When hidden (e.g., while AirDrop is selected) hide the right controls */
.finder-right-controls.disabled {
    opacity: 0.45;
    filter: grayscale(20%);
    pointer-events: none;
    transition: opacity 160ms ease, filter 160ms ease;
}
.finder-right-controls.disabled .finder-view-btn,
.finder-right-controls.disabled .search-container,
.finder-right-controls.disabled .search-container * { pointer-events: none; }

.finder-view-controls {
    display: flex;
    gap: 6px;
}

.finder-view-btn {
    width: 34px;
    height: 34px;
    border-radius: 6px;
    border: none;
    background: transparent;
    color: #d0d0d0;
    cursor: pointer;
    font-size: 14px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.finder-view-btn:hover { background: rgba(255,255,255,0.02); color: #fff; }
.finder-view-btn.active { background: rgba(255,255,255,0.04); color: #fff; }

/* Mobile / small-screen adjustments to improve clarity and performance */
@media (max-width: 900px) {
    /* Reduce heavy visual effects that are expensive on mobile */
    .menu-bar, .dock, .windows-container, .desktop, .finder-sidebar, .control-center, .wifi-dropdown {
        -webkit-backdrop-filter: none !important;
        backdrop-filter: none !important;
        box-shadow: none !important;
    }

    /* Lock screen: much smaller time and lighter shadows for readability */
    .lock-time { font-size: 48px !important; line-height: 1 !important; text-shadow: none !important; }
    .lock-date { font-size: 14px !important; }
    .lock-avatar { width: 48px !important; height: 48px !important; transform: none !important; opacity: 1 !important; visibility: visible !important; }
    .lock-name { font-size: 13px !important; }
    .lock-center { padding: 24px 12px !important; gap: 10px !important; min-height: 100vh !important; height: auto !important; }
    .lock-top { margin-top: 12px !important; }
    .lock-bottom { margin-bottom: 48px !important; }

    /* Make windows fit the screen and avoid off-screen placement */
    .window {
        left: 6px !important;
        top: 60px !important;
        width: calc(100% - 12px) !important;
        height: calc(100vh - 130px) !important;
        border-radius: 8px !important;
        transform: none !important;
        margin: 0 !important;
    }
    .window.maximized { top: 48px !important; height: calc(100vh - 96px) !important; }

    /* Dock: show at bottom center on mobile screens */
    .dock { 
        position: fixed !important;
        display: flex !important; 
        visibility: visible !important; 
        pointer-events: auto !important;
        bottom: 10px !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
        padding: 8px 12px !important;
        gap: 8px !important;
        z-index: 5 !important;
    }
    .dock-app, .dock-trash { width: 44px !important; height: 44px !important; }

    /* Reduce oversized UI elements that cause layout reflow */
    .desktop-shortcut { display: none !important; visibility: hidden !important; }
    .menu-bar { height: 44px !important; font-size: 13px !important; padding: 0 8px !important; }

    /* Improve text rendering on small screens */
    body { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

    /* Disable heavy shadows on mobile to reduce paint cost */
    .lock-time, .window, .dock, .desktop { box-shadow: none !important; }

    /* Ensure body uses device-height properly (avoid 100vh issues caused by mobile browser chrome) */
    html, body { height: auto !important; min-height: 100vh !important; }

    /* Reduce background rendering cost */
    .desktop { background-attachment: scroll !important; background-size: cover !important; }
}

/* Extra-small screens: aggressive simplification */
@media (max-width: 420px) {
    .lock-time { font-size: 36px !important; }
    .lock-date { font-size: 12px !important; }
    .lock-avatar { width: 40px !important; height: 40px !important; }
    .lock-avatar .lock-icon { width: 28px !important; height: 28px !important; }
    .lock-name { font-size: 12px !important; }
    .lock-center { padding: 16px 12px !important; }
    .lock-top { margin-top: 8px !important; }
    .lock-bottom { margin-bottom: 32px !important; gap: 6px !important; }
    .menu-item { display: none !important; }
    .apple-logo { display: inline-flex !important; }
}

/* Mobile / small screens: reduce fixed minimums, allow scrolling and make windows stack */
@media (max-width: 720px) {
    /* Allow page to scroll on small devices */
    body { overflow: auto; -webkit-overflow-scrolling: touch; }

    /* Make windows full-width and remove large min-widths */
    .window {
        position: relative !important;
        left: 0 !important;
        top: 0 !important;
        width: 100% !important;
        min-width: 0 !important;
        height: auto !important;
        max-height: calc(100vh - 180px) !important;
        border-radius: 0 !important;
        margin: 0 0 20px 0 !important;
        box-shadow: none !important;
        transform: none !important;
    }
    
    .window-content-wrapper {
        padding-bottom: 120px !important;
        overflow-y: auto !important;
        max-height: calc(100vh - 230px) !important;
    }

    /* Ensure windows container doesn't overflow; stack windows vertically */
    .windows-container {
        position: relative !important;
        top: 0 !important;
        bottom: 0 !important;
        height: auto !important;
        padding-bottom: 120px !important;
        overflow: visible !important;
    }

    /* Reduce heavy lock-time and avatar sizes */
    #lockScreen .lock-center { padding: 18px !important; }
    #lockScreen .lock-top .lock-time { font-size: 48px !important; }
    .lock-avatar img { width: 56px !important; height: 56px !important; }

    /* Hide dock and desktop shortcuts to avoid horizontal space issues */
    /* On mobile show dock at bottom center */
    .desktop-shortcut { display: none !important; }
    .dock {
        display: flex !important;
        position: fixed !important;
        top: auto !important;
        left: 50% !important;
        right: auto !important;
        bottom: 10px !important;
        transform: translateX(-50%) !important;
        height: auto !important;
        padding: 8px 12px !important;
        justify-content: center !important;
        gap: 8px !important;
        overflow-x: visible !important;
    }
    
    /* Hide dock when locked (override mobile dock display) */
    body.locked .dock,
    body.locked .dock-app,
    body.locked .dock-trash {
        display: none !important;
        visibility: hidden !important;
        pointer-events: none !important;
        height: 0 !important;
        width: 0 !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .dock {
        background: rgba(0,0,0,0.35) !important;
        backdrop-filter: blur(10px) !important;
        -webkit-backdrop-filter: blur(10px) !important;
        box-shadow: none !important;
        z-index: 10002 !important; /* above menu-bar */
    }
    .dock-app, .dock-trash { width: 46px !important; height: 46px !important; border-radius: 10px !important; }
    .dock-app .app-icon img { width: 36px !important; height: 36px !important; }

    /* Make menu-bar sticky at top and compress its contents */
    .menu-bar {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        height: 44px !important;
        padding: 0 8px !important;
        display: flex !important;
        align-items: center !important;
        z-index: 9999 !important;
    }

    /* Ensure windows start below the menu bar + compact dock */
    .windows-container { top: calc(env(safe-area-inset-top, 0px) + 48px) !important; padding-top: calc(48px + 72px) !important; }

    /* Compress finder/search widths */
    .finder-search input { width: 120px !important; }

    /* Make preview iframe responsive within its container and visible on mobile */
    .preview-area { width: 100% !important; }
    .preview-iframe { width: 100% !important; height: 56vh !important; min-height: 360px !important; display: block !important; }

    /* Reduce large text-shadows during transitions to avoid repaints */
    .lock-time, .window { text-shadow: none !important; }
}

/* Safari simulated page link icons */
.safari-page { padding: 18px; }
.safari-links { display:flex; flex-direction:row; gap:18px; margin-top:14px; align-items:center; flex-wrap:wrap; }
.safari-link { display:inline-flex; align-items:center; justify-content:center; width:auto; padding:6px; border-radius:8px; background: transparent; text-decoration: none; }
.safari-link:hover { background: rgba(255,255,255,0.02); }
.safari-link-icon { width: 48px; height: 48px; object-fit: contain; display:block; }


/* Mobile launcher styling: appears on small screens to provide quick access when dock is hidden */
@media (max-width: 720px) {
    .mobile-launcher {
        position: fixed;
        right: 12px;
        bottom: calc(env(safe-area-inset-bottom, 0px) + 16px);
        display: flex;
        flex-direction: column;
        gap: 8px;
        z-index: 10010 !important;
        pointer-events: auto;
    }
    .mobile-launcher-btn {
        background: rgba(255,255,255,0.08) !important;
        color: transparent !important;
        border: 1px solid rgba(255,255,255,0.1) !important;
        padding: 0 !important;
        border-radius: 8px !important;
        font-size: 0 !important;
        width: 44px !important;
        height: 44px !important;
        box-shadow: 0 8px 18px rgba(0,0,0,0.35);
        cursor: pointer;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        position: relative;
        overflow: hidden;
    }
    .mobile-launcher-btn:active { transform: translateY(1px); }
    /* Ensure windows content isn't obscured by bottom UI + launcher */
    .windows-container { padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 96px) !important; }
}

/* When the lock screen is active, temporarily reduce heavy visual effects to improve performance */
body.reduce-effects .menu-bar,
body.reduce-effects .dock,
body.reduce-effects .windows-container,
body.reduce-effects .desktop,
body.reduce-effects .control-center,
body.reduce-effects .wifi-dropdown,
body.reduce-effects .finder-sidebar {
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;
    box-shadow: none !important;
}

.finder-search input {
    height: 32px;
    width: 180px;
    padding: 6px 10px;
    border-radius: 8px;
    border: 1px solid rgba(255,255,255,0.04);
    background: rgba(255,255,255,0.02);
    color: #e6e6e6;
    outline: none;
    font-size: 13px;
}

.finder-search input::placeholder { color: #9a9a9a; }

/* Collapsible search: show a lens icon, expand to reveal input on click */
.finder-search { position: relative; }
.search-container {
    display: flex;
    align-items: center;
    width: 36px;
    height: 36px;
    box-sizing: border-box;
    overflow: hidden;
    border-radius: 10px;
    background: rgba(255,255,255,0.02);
    transition: width 160ms ease, padding 160ms ease, background 160ms ease;
    padding: 4px;
}
.search-toggle {
    background: transparent;
    border: none;
    color: #cfcfcf;
    font-size: 16px;
    width: 28px;
    height: 28px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}
.search-container input {
    border: none;
    background: transparent;
    color: #e6e6e6;
    outline: none;
    width: 0;
    opacity: 0;
    transition: width 160ms ease, opacity 120ms ease, margin 120ms ease;
    font-size: 14px;
}
.search-container.search-expanded {
    width: 220px;
    padding: 6px 10px;
    background: rgba(255,255,255,0.03);
}
.search-container.search-expanded input {
    width: 140px;
    opacity: 1;
    margin-left: 8px;
}
.search-container.search-expanded .search-toggle { color: #9a9a9a; }

/* small focus ring for accessibility */
.search-container:focus-within {
    box-shadow: 0 0 0 3px rgba(16,124,255,0.12);
}

/* View-mode adjustments applied via data attribute on .finder-main */
.finder-main[data-view="icon"] .files-grid {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    align-items: flex-start;
}

.finder-main[data-view="list"] .files-grid {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.finder-main[data-view="column"] .files-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

.files-grid .doc-tile {
    transition: transform 0.12s ease, box-shadow 0.12s ease;
}

/* Ensure files grid fills available space so AirDrop root can stretch
   and its footer sits at the bottom of the pane. */
.files-grid {
    /* let each view (icon/list/column) set its own layout
       allow the grid to grow so children (like .airdrop-root) can stretch */
    flex: 1 1 auto;
    min-height: 0; /* allow children to shrink inside flex container */
    display: block;
    height: 100%;
}

.finder-main[data-view="list"] .doc-tile {
    width: 100%;
    flex-direction: row;
    align-items: center;
}


.finder-left-controls {
    display: flex;
    align-items: center;
    gap: 8px;
}

.finder-back {
    background: transparent;
    border: none;
    color: #cfcfcf;
    font-size: 20px;
    width: 34px;
    height: 34px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px;
    cursor: pointer;
}

.finder-back:hover { background: rgba(255,255,255,0.02); color: #fff; }

.finder-left-label {
    color: #cfcfcf;
    font-size: 13px;
    padding-left: 6px;
    font-weight: 700;
    min-width: 80px;
    max-width: 220px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.finder-tag-dot {
    width: 12px;
    height: 12px;
    border-radius: 999px;
    display: inline-block;
    margin-left: 6px;
    box-shadow: 0 0 0 1px rgba(0,0,0,0.2) inset;
}

.finder-forward {
    background: transparent;
    border: none;
    color: #cfcfcf;
    font-size: 20px;
    width: 34px;
    height: 34px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px;
    cursor: pointer;
}

.finder-forward:hover { background: rgba(255,255,255,0.02); color: #fff; }

/* Hide left controls when empty */
.finder-left-controls .finder-tag-dot[hidden],
.finder-left-controls .finder-left-label[hidden] {
    display: none;
}

/* Empty state */
.finder-empty {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    color: #9a9a9a;
    font-size: 15px;
    height: 100%;
}

.finder-empty .empty-icon {
    font-size: 48px;
    margin-bottom: 12px;
    opacity: 0.9;
}

/* Document tile (single PDF) */
.doc-tile {
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 160px;
    padding: 12px;
    background: rgba(255,255,255,0.02);
    border-radius: 8px;
    gap: 8px;
}

/* Ensure images inside doc tiles render at a consistent, larger visual size */
.doc-icon img {
    width: 120px;
    height: 120px;
    object-fit: contain;
    display: block;
}

/* compact variant for application grid: render icons at half size */
.doc-tile.app-compact .doc-icon img {
    width: 60px;
    height: 60px;
}
.doc-icon {
    width: 96px;
    height: 96px;
    background: #fff;
    color: #111;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:700;
    border-radius:6px;
    margin-bottom:10px;
}
.doc-tile.app-compact .doc-icon {
    /* For application tiles we want only the icon image visible (no white rounded box) */
    background: transparent;
    border-radius: 0;
    width: auto;
    height: auto;
    margin-bottom: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Remove the outer tile background for compact application tiles so only the icon shows */
.doc-tile.app-compact {
    background: transparent;
    padding: 6px 8px;
    border-radius: 0;
    box-shadow: none;
    width: auto;
}

/* Ensure the icon image itself has no rounded white background (override inline styles) */
.doc-tile.app-compact .doc-icon img {
    width: 78px;
    height: 78px;
    border-radius: 0 !important;
    background: transparent !important;
    box-shadow: none !important;
}
.doc-name { font-size: 13px; color: #dcdcdc; text-align:center; }

/* All Tags layout */
.all-tags-wrap {
    display: flex;
    height: 100%;
    min-height: 0;
}
.all-tags-left {
    width: 220px;
    border-right: 1px solid rgba(255,255,255,0.03);
    padding: 18px 16px;
    box-sizing: border-box;
}
.all-tags-right {
    flex: 1;
    padding: 24px;
    box-sizing: border-box;
}
.all-tags-row {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 6px;
    color: #e6e6e6;
    cursor: pointer;
}
.all-tags-row:hover { background: rgba(255,255,255,0.02); }
.all-tags-label { font-size: 15px; }

/* Selected tag row in All Tags view */
.all-tags-row.selected { background: rgba(255,255,255,0.03); }

.file-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 16px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.2s;
}

.file-item:hover {
    background: #3d3d3d;
}

.file-item-icon {
    font-size: 48px;
    margin-bottom: 8px;
}

.file-item-name {
    font-size: 12px;
    text-align: center;
    color: #d0d0d0;
}

.safari-content {
    display: flex;
    flex-direction: column;
    height: 100%;
}
.safari-toolbar {
    background: #323232;
    padding: 8px 12px;
    display: flex;
    gap: 12px;
    align-items: center;
    border-bottom: 1px solid #1a1a1a;
}
.safari-controls {
    display: flex;
    gap: 4px;
}
.safari-btn {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border-radius: 4px;
    transition: background 0.2s;
}
.safari-btn:hover {
    background: #4d4d4d;
}
.safari-addressbar {
    flex: 1;
    background: #252525;
    border-radius: 20px;
    padding: 0 12px;
    display: flex;
    align-items: center;
    gap: 8px;
}
.safari-lock {
    font-size: 12px;
}
.safari-url {
    flex: 1;
    background: transparent;
    border: none;
    outline: none;
    color: #d0d0d0;
    font-size: 13px;
}
.safari-page {
    flex: 1;
    background: #1e1e1e;
    padding: 40px;
    padding-bottom: 40px;
    overflow-y: auto;
}
.safari-page h1 {
    margin-bottom: 20px;
    color: #ffffff;
}
.safari-page p {
    color: #d0d0d0;
    line-height: 1.6;
    margin-bottom: 20px;
}
.safari-page ul {
    list-style: none;
    padding: 0;
}
.safari-page li {
    margin-bottom: 12px;
}
.safari-page a {
    color: #667eea;
    text-decoration: none;
    font-size: 16px;
}
.safari-page a:hover {
    text-decoration: underline;
}

/* VS Code Content */
.vscode-content {
    display: flex;
    height: 100%;
}

.vscode-sidebar {
    width: 200px;
    background: #252525;
    padding: 12px;
    border-right: 1px solid #1a1a1a;
}

.vscode-file {
    padding: 8px;
    border-radius: 4px;
    cursor: pointer;
    margin-bottom: 4px;
    transition: background 0.2s;
    font-size: 13px;
}

.vscode-file:hover {
    background: #3d3d3d;
}

.vscode-file.active {
    background: #667eea;
}

.vscode-main {
    flex: 1;
    background: #1e1e1e;
    overflow-y: auto;
}

.vscode-welcome {
    padding: 60px 80px;
    max-width: 800px;
}

.vscode-welcome h1 {
    color: #ffffff;
    margin-bottom: 20px;
    font-size: 32px;
}

.vscode-welcome p {
    color: #d0d0d0;
    font-size: 16px;
    margin-bottom: 30px;
}

.vscode-info h3 {
    color: #667eea;
    margin-bottom: 15px;
    font-size: 18px;
}

.vscode-info ul {
    list-style: none;
    padding: 0;
}

.vscode-info li {
    color: #d0d0d0;
    padding: 8px 0;
    padding-left: 20px;
    position: relative;
}

.vscode-info li::before {
    content: '▹';
    position: absolute;
    left: 0;
    color: #667eea;
}

/* Contact Content */
.contact-content {
    padding: 40px;
    max-width: 600px;
    margin: 0 auto;
}

.contact-content h2 {
    margin-bottom: 30px;
    color: #ffffff;
    font-size: 28px;
}

.contact-form {
    margin-bottom: 40px;
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    color: #d0d0d0;
    font-size: 14px;
}

.form-group input,
.form-group textarea {
    width: 100%;
    padding: 12px;
    background: #3d3d3d;
    border: 1px solid #4d4d4d;
    border-radius: 6px;
    color: #e0e0e0;
    font-family: inherit;
    font-size: 14px;
    outline: none;
    transition: border-color 0.2s;
}

.form-group input:focus,
.form-group textarea:focus {
    border-color: #667eea;
}

.btn-submit {
    width: 100%;
    padding: 12px;
    background: #667eea;
    border: none;
    border-radius: 6px;
    color: white;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.2s;
}

.btn-submit:hover {
    background: #5568d3;
}

.contact-links h3 {
    margin-bottom: 20px;
    color: #ffffff;
    font-size: 20px;
}

.social-links {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.social-links a {
    display: flex;
    align-items: center;
    padding: 12px;
    background: #3d3d3d;
    border-radius: 6px;
    color: #d0d0d0;
    text-decoration: none;
    transition: background 0.2s;
}

.social-links a:hover {
    background: #4d4d4d;
}

/* Settings Content */
.settings-content {
    display: flex;
    height: 100%;
}

.settings-sidebar {
    width: 200px;
    background: #252525;
    padding: 12px;
    border-right: 1px solid #1a1a1a;
}

.settings-item {
    padding: 10px;
    border-radius: 6px;
    cursor: pointer;
    margin-bottom: 4px;
    transition: background 0.2s;
}

.settings-item:hover {
    background: #3d3d3d;
}

.settings-item.active {
    background: #667eea;
}

.settings-main {
    flex: 1;
    padding: 30px;
    overflow-y: auto;
}

.settings-main h2 {
    margin-bottom: 10px;
    color: #ffffff;
}

.settings-description {
    color: #a0a0a0;
    margin-bottom: 30px;
    line-height: 1.6;
}

.setting-option {
    margin-bottom: 30px;
}

.setting-option label {
    display: block;
    margin-bottom: 12px;
    color: #d0d0d0;
    font-size: 14px;
}

.setting-option select {
    padding: 8px 12px;
    background: #3d3d3d;
    border: 1px solid #4d4d4d;
    border-radius: 6px;
    color: #e0e0e0;
    font-family: inherit;
    outline: none;
}

.wallpaper-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.wallpaper-item {
    cursor: pointer;
    border-radius: 12px;
    overflow: hidden;
    transition: all 0.3s;
    border: 3px solid transparent;
}

.wallpaper-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
}

.wallpaper-item.active {
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
}

.wallpaper-preview {
    width: 100%;
    height: 120px;
    border-radius: 8px;
    background-size: cover;
    background-position: center;
    display: flex;
    align-items: center;
    justify-content: center;
}
        background: rgba(18,18,18,0.55);
        backdrop-filter: blur(8px) saturate(120%);
        box-shadow: inset 0 -1px 0 rgba(0,0,0,0.6);
.upload-preview {
    background: #3d3d3d;
    border: 2px dashed #667eea;
    color: #667eea;
}

.upload-item:hover .upload-preview {
    background: #4d4d4d;
    border-color: #7d8eea;
}

.wallpaper-name {
    padding: 12px;
    text-align: center;
    font-size: 13px;
    color: #d0d0d0;
    background: #252525;
}

/* Scrollbar Styles */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
        box-shadow: 0 0 0 1px rgba(0,0,0,0.2) inset;
}

::-webkit-scrollbar-thumb {
    background: #4d4d4d;
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: #5d5d5d;
}

/* Responsive */
@media (max-width: 768px) {
    .dock {
        bottom: 4px;
        padding: 6px;
        border-radius: 12px;
    }
    
    .dock-app {
        width: 44px;
        height: 44px;
    }
    
    .app-icon {
        font-size: 24px;
    }
    
    .window {
            .window {
                min-width: 90vw;
            }
            .window-title {
                position: static !important;
                left: unset !important;
                transform: none !important;
                margin: 0 auto !important;
                text-align: center !important;
                width: 100%;
                pointer-events: none;
            }
            .window-controls {
                gap: 2px !important;
            }
            .window-btn {
                width: 10px !important;
                height: 10px !important;
                min-width: 10px !important;
                min-height: 10px !important;
            }
    .window-controls {
        display: flex !important;
        position: relative !important;
        z-index: 10 !important;
    }
    .window-btn {
        display: flex !important;
        width: 12px !important;
        height: 12px !important;
        min-width: 12px !important;
        min-height: 12px !important;
        padding: 0 !important;
        margin: 0 !important;
    }
}
